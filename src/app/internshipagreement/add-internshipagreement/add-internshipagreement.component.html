<div class="card">
  <div class="card-body">
    <h4 class="card-title">Add Internship Agreement</h4>
    <form class="forms-sample ng-untouched ng-pristine ng-valid" [formGroup]="internshipForm">
      <div class="form-group">
        <label for="date">Date</label>
        <div class="row">
          <div class="col-sm-6">
            <input class="form-control" id="date" type="date" formControlName="startDate">
          </div>
          <div class="col-sm-6">
            <input class="form-control" type="date" formControlName="endDate">
          </div>
        </div>
        <div class="invalid-feedback" *ngIf="(startDate.invalid && startDate.touched) || (endDate.invalid && endDate.touched)" #date>
          <span class="text-small">The Date is required. </span>
        </div>
      </div>
      <div  class="form-group" formGroupName="entreprise">
        <label for="entreprise" [class.text-danger]="entreprise.invalid && entreprise.touched">Entreprise</label>
        <select class="form-control" id="entreprise" [class.border-danger]="entreprise.invalid && entreprise.touched" formControlName="id">
          <option *ngFor="let entreprise of entreprises" [value]="entreprise.id">{{ entreprise.nameEntreprise }}</option>
        </select>
        <div class="invalid-feedback" *ngIf="entreprise.invalid && entreprise.touched">
          <span *ngIf="entreprise.errors.required" class="text-small">The entreprise is required. </span>
        </div>
      </div>
      <div class="form-group">
      </div>
      <button class="btn btn-primary mr-2" type="submit" *ngIf="edit; else add" (click)="editInternship()" [disabled]="internshipForm.invalid">Update</button>
      <button class="btn btn-light" (click)="cancel()" *ngIf="edit" >Cancel</button>
      <ng-template #add>
        <button class="btn btn-primary mr-2" type="submit" (click)="addInternship()" [disabled]="internshipForm.invalid">Submit</button>
      </ng-template>
    </form>
  </div>
</div>

